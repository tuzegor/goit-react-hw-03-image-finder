{"version":3,"sources":["components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGallery.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Modal/Modal.js","components/Loader/Loader.js","services/apiService.js","App.js","index.js"],"names":["module","exports","Searchbar","state","searchName","inputChange","e","setState","target","value","searchbarFormSubmit","preventDefault","props","onSubmit","className","styles","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGallery","children","ImageGalleryItem","id","tags","webformatURL","largeImageURL","openModal","ImageGalleryItemImage","src","alt","onClick","Button","loadMore","Modal","closePicture","currentTarget","closeModal","closePictureByEscape","console","log","code","window","addEventListener","removeEventListener","picture","Overlay","Loader","BASE_URL","API_KEY","page","a","fetch","response","json","App","name","pictures","status","error","showModal","currentPicture","formSubmit","loadMorePictures","prevProps","prevState","fetchPicturesApi","then","total","hits","catch","map","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ee5360a3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__8f9cn\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2bkPr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__17sQZ\"};","import React, { Component } from 'react';\nimport styles from './Searchbar.module.css';\nimport PropTypes from 'prop-types';\n\nclass Searchbar extends Component {\n  state = {\n    searchName: '',\n  };\n\n  inputChange = e => {\n    this.setState({ searchName: e.target.value });\n  };\n\n  searchbarFormSubmit = e => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.searchName);\n  };\n\n  render() {\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.searchbarFormSubmit}>\n          <button type=\"submit\" className={styles.SearchFormButton}>\n            <span className={styles.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={styles.SearchFormInput}\n            type=\"text\"\n            value={this.state.searchName}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.inputChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func,\n};\n\nexport default Searchbar;\n","import styles from './ImageGallery.module.css';\n\nfunction ImageGallery({ children }) {\n  return <ul className={styles.ImageGallery}>{children}</ul>;\n}\nexport default ImageGallery;\n","import styles from './ImageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\n\nfunction ImageGalleryItem({\n  id,\n  tags,\n  webformatURL,\n  largeImageURL,\n  openModal,\n}) {\n  return (\n    <li id={id} className={styles.ImageGalleryItem}>\n      <img\n        className={styles.ImageGalleryItemImage}\n        src={webformatURL}\n        alt={tags}\n        onClick={() => openModal(id, largeImageURL, tags)}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  id: PropTypes.number,\n  webformatURL: PropTypes.string,\n  largeImageURL: PropTypes.string,\n  openModal: PropTypes.func,\n};\n\nexport default ImageGalleryItem;\n","import styles from './Button.module.css';\nimport PropTypes from 'prop-types';\n\nfunction Button({ loadMore }) {\n  return (\n    <button className={styles.Button} onClick={loadMore}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  loadMore: PropTypes.func,\n};\n\nexport default Button;\n","import React, { Component } from 'react';\nimport styles from './Modal.module.css';\nimport PropTypes from 'prop-types';\n\nclass Modal extends Component {\n  closePicture = e => {\n    if (e.target === e.currentTarget) {\n      this.props.closeModal();\n    }\n  };\n\n  closePictureByEscape = e => {\n    console.log(e);\n    if (e.code === 'Escape') {\n      this.props.closeModal();\n    }\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.closePictureByEscape);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.closePictureByEscape);\n  }\n\n  render() {\n    const { picture } = this.props;\n\n    return (\n      <div className={styles.Overlay} onClick={e => this.closePicture(e)}>\n        <div className={styles.Modal}>\n          <img id={picture.id} src={picture.largeImageURL} alt={picture.tags} />\n        </div>\n      </div>\n    );\n  }\n}\n\nModal.propTypes = {\n  picture: PropTypes.object,\n  closeModal: PropTypes.func,\n};\n\nexport default Modal;\n","import styles from './Loader.module.css';\n\nfunction Loader() {\n  return (\n    <div className={styles.Loader}>\n      <div></div>\n      <div></div>\n      <div></div>\n    </div>\n  );\n}\n\nexport default Loader;\n","const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '24011723-51ecfad92349740cba3768f0d';\n\nexport default async function fetchPicturesApi(searchName, page) {\n  const response = await fetch(\n    `${BASE_URL}?q=${searchName}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  );\n  return await response.json();\n}\n","import React, { Component } from 'react';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport ImageGalleryItem from './components/ImageGalleryItem';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\nimport Loader from './components/Loader';\nimport fetchPicturesApi from './services/apiService';\n\nclass App extends Component {\n  state = {\n    name: '',\n    page: 1,\n    pictures: [],\n    status: 'idle',\n    error: null,\n    showModal: false,\n    currentPicture: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      prevState.name !== this.state.name ||\n      prevState.page !== this.state.page\n    ) {\n      const { name, page } = this.state;\n\n      fetchPicturesApi(name, page)\n        .then(pictures => {\n          if (pictures.total === 0) {\n            this.setState({\n              error: `We don't have picture: ${name}`,\n              status: 'rejected',\n            });\n          } else {\n            this.setState(prevState => ({\n              pictures: [...prevState.pictures, ...pictures.hits],\n              status: 'resolved',\n            }));\n          }\n        })\n        .catch(error => this.setState({ error, status: 'rejected' }));\n    }\n  }\n\n  formSubmit = name => {\n    this.setState({ name, pictures: [], page: 1, status: 'pending' });\n  };\n\n  loadMorePictures = () => {\n    this.setState({\n      page: this.state.page + 1,\n    });\n  };\n\n  openModal = (id, largeImageURL, tags) => {\n    this.setState({\n      showModal: true,\n      currentPicture: { id, largeImageURL, tags },\n    });\n  };\n\n  closeModal = () => {\n    this.setState({\n      showModal: false,\n    });\n  };\n\n  render() {\n    const { pictures, status, error, showModal, currentPicture } = this.state;\n    // console.log(this.state.pictures);\n    // console.log(this.state.page);\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.formSubmit} />\n        {status === 'pending' && <Loader />}\n        {status === 'resolved' && (\n          <>\n            <ImageGallery>\n              {pictures.map(({ id, tags, webformatURL, largeImageURL }) => (\n                <ImageGalleryItem\n                  key={id}\n                  id={id}\n                  tags={tags}\n                  webformatURL={webformatURL}\n                  largeImageURL={largeImageURL}\n                  openModal={this.openModal}\n                />\n              ))}\n            </ImageGallery>\n            <Button loadMore={this.loadMorePictures} />\n          </>\n        )}\n        {showModal && (\n          <Modal picture={currentPicture} closeModal={this.closeModal} />\n        )}\n        {status === 'rejected' && <h1>{error}</h1>}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}